<app-header-recruteur></app-header-recruteur>

<div class="profile-container">
  <div class="profile-header">
    <div class="company-logo">
      <p-avatar [image]="company.logo" size="xlarge" shape="circle"></p-avatar>
      <button pButton pRipple icon="pi pi-camera" class="p-button-rounded p-button-text edit-logo"></button>
    </div>
    <div class="company-info">
      <h1>{{company.name}}</h1>
      <p class="description">{{company.description}}</p>
    </div>
    <button pButton pRipple icon="pi pi-cog" class="p-button-rounded p-button-text settings-button" 
      (click)="showPasswordDialog = true"></button>
  </div>

  <div class="profile-content">
    <div class="social-section">
      <p-card header="Réseaux sociaux">
        <div class="social-links">
          <div class="social-input">
            <i class="pi pi-linkedin"></i>
            <input type="text" pInputText [(ngModel)]="company.socialLinks.linkedin" placeholder="LinkedIn" />
          </div>
          <div class="social-input">
            <i class="pi pi-twitter"></i>
            <input type="text" pInputText [(ngModel)]="company.socialLinks.twitter" placeholder="Twitter" />
          </div>
          <div class="social-input">
            <i class="pi pi-facebook"></i>
            <input type="text" pInputText [(ngModel)]="company.socialLinks.facebook" placeholder="Facebook" />
          </div>
          <div class="social-input">
            <i class="pi pi-globe"></i>
            <input type="text" pInputText [(ngModel)]="company.socialLinks.website" placeholder="Site web" />
          </div>
        </div>
      </p-card>
    </div>

    <div class="contact-section">
      <p-card header="Informations de contact">
        <div class="contact-form">
          <div class="form-group">
            <label>Domaine d'activité</label>
            <p-dropdown [options]="activityDomains" [(ngModel)]="company.contactInfo.activityDomain" 
              placeholder="Sélectionnez un domaine"></p-dropdown>
          </div>
          <div class="form-group">
            <label>Secteur</label>
            <p-dropdown [options]="sectors" [(ngModel)]="company.contactInfo.sector" 
              placeholder="Sélectionnez un secteur"></p-dropdown>
          </div>
          <div class="form-group">
            <label>Téléphone</label>
            <input type="text" pInputText [(ngModel)]="company.contactInfo.phone" />
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="text" pInputText [(ngModel)]="company.contactInfo.email" />
          </div>
          <div class="form-group">
            <label>Adresse</label>
            <textarea pInputTextarea [(ngModel)]="company.contactInfo.address" rows="3"></textarea>
          </div>
        </div>
      </p-card>
    </div>
  </div>

  <div class="profile-actions">
    <button pButton pRipple label="Enregistrer les modifications" class="p-button-primary" 
      (click)="updateProfile()"></button>
  </div>
</div>

<p-dialog header="Changer le mot de passe" [(visible)]="showPasswordDialog" [style]="{width: '450px'}" 
  [modal]="true">
  <div class="password-form">
    <div class="form-group">
      <label>Mot de passe actuel</label>
      <p-password [(ngModel)]="passwordForm.currentPassword" [feedback]="false"></p-password>
    </div>
    <div class="form-group">
      <label>Nouveau mot de passe</label>
      <p-password [(ngModel)]="passwordForm.newPassword" [feedback]="true"></p-password>
    </div>
    <div class="form-group">
      <label>Confirmer le mot de passe</label>
      <p-password [(ngModel)]="passwordForm.confirmPassword" [feedback]="false"></p-password>
    </div>
  </div>
  <ng-template pTemplate="footer">
    <button pButton pRipple label="Annuler" class="p-button-text" (click)="showPasswordDialog = false"></button>
    <button pButton pRipple label="Changer" class="p-button-primary" (click)="changePassword()"></button>
  </ng-template>
</p-dialog>

<p-toast></p-toast> 